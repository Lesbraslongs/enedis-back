{"version":3,"sources":["../db/user.js"],"names":["getUserByEnedisId","User","findById","enedisId","findOrCreateUser","firstname","lastname","accessToken","refreshToken","usagePointId","expiresAt","findOrCreate","where","id","defaults","updateUser","user","newData","update"],"mappings":";;;;;;;AAAA;;AAEO,IAAMA,gDAAoB,SAApBA,iBAAoB,WAAY;AAC3C,SAAOC,YAAKC,QAAL,CAAcC,QAAd,CAAP;AACD,CAFM;;AAIA,IAAMC,8CAAmB,SAAnBA,gBAAmB,CAC9BC,SAD8B,EAE9BC,QAF8B,EAG9BH,QAH8B,EAI9BI,WAJ8B,EAK9BC,YAL8B,EAM9BC,YAN8B,EAO9BC,SAP8B,EAQ3B;AACH,SAAOT,YAAKU,YAAL,CAAkB;AACvBC,WAAO,EAAEC,IAAIV,QAAN,EADgB;AAEvBW,cAAU;AACRT,0BADQ;AAERC,wBAFQ;AAGRC,8BAHQ;AAIRC,gCAJQ;AAKRE,0BALQ;AAMRD;AANQ;AAFa,GAAlB,CAAP;AAWD,CApBM;;AAsBA,IAAMM,kCAAa,SAAbA,UAAa,CAACC,IAAD,EAAOC,OAAP,EAAmB;AAAA,MACnCZ,SADmC,GACgBY,OADhB,CACnCZ,SADmC;AAAA,MACxBC,QADwB,GACgBW,OADhB,CACxBX,QADwB;AAAA,MACdC,WADc,GACgBU,OADhB,CACdV,WADc;AAAA,MACDE,YADC,GACgBQ,OADhB,CACDR,YADC;;AAE3C,SAAOO,KAAKE,MAAL,CAAY,EAAEX,wBAAF,EAAeF,oBAAf,EAA0BC,kBAA1B,EAAoCG,0BAApC,EAAZ,CAAP;AACD,CAHM","file":"user.js","sourcesContent":["import { User } from './index';\n\nexport const getUserByEnedisId = enedisId => {\n  return User.findById(enedisId);\n};\n\nexport const findOrCreateUser = (\n  firstname,\n  lastname,\n  enedisId,\n  accessToken,\n  refreshToken,\n  usagePointId,\n  expiresAt,\n) => {\n  return User.findOrCreate({\n    where: { id: enedisId },\n    defaults: {\n      firstname,\n      lastname,\n      accessToken,\n      refreshToken,\n      expiresAt,\n      usagePointId,\n    },\n  });\n};\n\nexport const updateUser = (user, newData) => {\n  const { firstname, lastname, accessToken, usagePointId } = newData;\n  return user.update({ accessToken, firstname, lastname, usagePointId });\n};\n"]}